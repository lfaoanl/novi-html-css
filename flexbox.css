body {
    display: flex;
    flex-flow: row wrap;

    /* Used for footer snapping to bottom */
    min-height: 100vh;
}

body > * { /* > direct child of body */
    /*
    Sets the default of all items to be equally
    as large and take up maximum space
    */
    flex: 1 100%; /* grow basis */
}

header {
    background: red;
}

aside {
    background: blue;
}

main {
    background: deeppink;
}
section, article {
    background: #f0fa;
}

footer {
    /* snap footer to bottom */
    margin-top: auto;

    min-height: 100px;
    background: green;
}

footer > section {
    /*
    footer sections all get same amount
    of space to distribute
    */
    flex: 1; /* grow, basis = 0 */
}

@media all and (min-width: 600px) {
    aside {
        flex: 1 0 0; /* grow shrink basis */
    }
    main {
        flex: 4 auto;
    }
    footer {
        display: flex;
    }
}

@media all and (min-width: 800px) {

    main {
        flex: 5 auto;
    }
}